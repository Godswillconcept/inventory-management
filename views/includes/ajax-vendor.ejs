<form class="my-5" id="vendorForm">
    <div class="modal" id="myVendor">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header" id="modal-body">
                    <h4 class="modal-title">Add New Vendor</h4>
                    <button type="button" class="close" data-dismiss="modal">
                        &times;
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group col-12 mb-3">
                        <label>Name</label>
                        <input type="text" name="name" class="form-control" />
                    </div>
                    <div class="form-group col-12 mb-3">
                        <label>Email</label>
                        <input type="email" name="email" class="form-control" />
                    </div>
                    <div class="form-group col-12 mb-3">
                        <label>Phone Number</label>
                        <input type="tel" name="phone" class="form-control" />
                    </div>
                    <div class="form-group col-12 mb-3">
                        <label>Address</label>
                        <textarea class="form-control" id="address" name="address" rows="2"></textarea>
                    </div>
                    <div class="form-group col-12 mb-3">
                        <label>Photo</label>
                        <input type="file" id="photo" name="photo" class="form-control" />
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">
                        Submit
                    </button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">
                        Close
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>


<script>
    $(function () {

        if ($("#vendorForm").length > 0) {
            console.log('Vendorform present');
        }
        $("#vendorForm").submit(function (e) {
            e.preventDefault();
            formData = new FormData(this);

            $.ajax({
                type: "POST",
                url: "add-vendor",
                data: formData,
                processData: false, //Don't process the file
                contentType: false, //Set the content type to multipart/form-data
                success: function (vendor) {

                    $('select[name="vendor_id"]').append('<option value="' + vendor.id + '">' + vendor.name + '</option>')
                    $('select[name="vendor_id"] option[value=' + vendor.id + ']').attr('selected', true)
                    $('#myVendor').modal('hide');
                }
            });
        });



    });
</script>